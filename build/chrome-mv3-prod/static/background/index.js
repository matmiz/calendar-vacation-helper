var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,r,n,o,i){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof a[o]&&a[o],u=s.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,r){if(!u[e]){if(!t[e]){var n="function"==typeof a[o]&&a[o];if(!r&&n)return n(e,!0);if(s)return s(e,!0);if(l&&"string"==typeof e)return l(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}d.resolve=function(r){var n=t[e][1][r];return null!=n?n:r},d.cache={};var f=u[e]=new c.Module(e);t[e][0].call(f.exports,d,f,f.exports,this)}return u[e].exports;function d(e){var t=d.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=u,c.parent=s,c.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return a[o]}}),a[o]=c;for(var f=0;f<r.length;f++)c(r[f]);if(n){var d=c(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof e&&e.amd?e(function(){return d}):i&&(this[i]=d)}}({kgW6q:[function(e,t,r){e("../../../src/background")},{"../../../src/background":"fx8Od"}],fx8Od:[function(e,t,r){async function n(){let e=await chrome.identity.getAuthToken({interactive:!0});if(chrome.runtime.lastError)throw chrome.runtime.lastError;return e.token}let o=e=>{let[t,r,n]=e.replace(",","").split(" "),o=new Date(Date.parse(t+" 1, 2000")).getMonth()+1,i=o.toString().padStart(2,"0"),a=r.padStart(2,"0");return`${n}-${i}-${a}`};async function i(e){let{requesterName:t,vacationDates:r}=e,[i,a]=r.split(" \u2013 "),s=await n(),u=o(i),l=o(a),c={summary:`${t} is OOO`,start:{date:u,timeZone:"Asia/Jerusalem"},end:{date:l,timeZone:"Asia/Jerusalem"},reminders:{useDefault:!1,overrides:[]}},f=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(c)}),d=await f.json();if(console.log("data:",d),d?.error)throw Error(d.error.message);return d}chrome.runtime.onMessage.addListener(async(e,t,r)=>{try{let{action:t,data:n}=e;switch(t){case"authenticate":console.log("auth");break;case"addToCalendar":let o=await i(n);console.log("response:",o),r({success:!!o})}}catch(e){console.error("Authentication error:",e),r({error:chrome.runtime.lastError?.message||"Authentication failed"})}return!0})},{}]},["kgW6q"],"kgW6q","parcelRequire6efb"),globalThis.define=t;